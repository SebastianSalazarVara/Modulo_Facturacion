{% extends 'nav.html' %}

{% block content %}
<h1>Búsqueda de Facturas</h1>
<p>Utiliza esta sección para buscar facturas por número, cliente, fecha, o cualquier otro criterio.</p>

<form method="get" action="{% url 'facturacion' %}">
    <label for="estado">Estado:</label>
    <select name="estado">
        <option value="">Todos</option>
        <option value="pendiente">Pendiente</option>
        <option value="pagada">Pagada</option>
        <!-- Otras opciones de estado -->
    </select>

    <label for="fecha_inicio">Fecha inicio:</label>
    <input type="date" name="fecha_inicio">

    <label for="fecha_fin">Fecha fin:</label>
    <input type="date" name="fecha_fin">

    <label for="nombre_cliente">Nombre del cliente:</label>
    <input type="text" name="nombre_cliente">

    <label for="usuario_creador">Usuario creador:</label>
    <input type="text" name="usuario_creador">

    <button type="submit">Buscar</button>
</form>
<!-- Tabla para mostrar facturas -->
<h2 class="mt-4">Lista de Facturas</h2>
<table class="table table-striped">
    <thead>
        <tr>
            <th>Número de Factura</th>
            <th>Fecha</th>
            <th>Cliente</th>
            <th>Estado</th>
            <th>Total</th>
            <th>Acciones</th>
        </tr>
    </thead>
    <tbody>
        {% for factura in facturas %}  <!-- Mostrar la lista de facturas -->
        <tr>
            <td>{{ factura.numero }}</td>
            <td>{{ factura.fecha }}</td>
            <td>{{ factura.cliente }}</td>
            <td>{{ factura.estado }}</td>
            <td>{{ factura.total }}</td>
            <td>
                <a href="{% url 'editar_factura' factura.id %}" class="btn btn-sm btn-warning">Editar</a>
                <a href="{% url 'eliminar_factura' factura.id %}" class="btn btn-sm btn-danger"
                   onclick="return confirm('¿Estás seguro de que quieres eliminar esta factura?')">Eliminar</a>
            </td>
        </tr>
        {% endfor %}
    </tbody>
</table>

{% endblock %}


